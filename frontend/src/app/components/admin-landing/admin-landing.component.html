<ion-header [translucent]="true">
  
  <app-nav></app-nav>
</ion-header>

<ion-content class="ion-margin">

<br>
  <div class="container">
    <h1>Hello {{name |titlecase}}</h1>
<br>
  <button class="btn btn-secondary mx-5" (click)="goBack()"> Back</button>
  </div>

  <button class="btn btn-primary" (click)="exportAsXLSX()">Save to excel</button>
  
<div class="container">
  <!--SEARCH-->


<div class="ion-margin m-1 row d-block">
  <div class="col-sm-3">
  
      <ion-grid class="ion-margin">
        <ion-toolbar>
          <ion-searchbar 
             debounce="1000" 
             (ionChange)="ionChange($event)">
          </ion-searchbar>
      </ion-toolbar>
      </ion-grid>
  
  </div>
  <div class="col-sm-3">
  
      <ion-grid class="ion-margin">
    <ion-list>
      <ion-item class="col">
        <ion-label>Sort attendance by:</ion-label>
        <ion-select interface="popover">
          <ion-select-option value="nes">Day</ion-select-option>
          <ion-select-option value="n64">Week</ion-select-option>
          <ion-select-option value="ps">Month</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-list>
  </ion-grid>
  

</div>
</div>

  <div class="container" *ngIf="!issearchResponse()">
  <ion-grid class="ion-margin">
    <ion-row class="d-flex text-center">
      <div class = "col-2">No</div>
      <div class="col-3">Employee Full Name</div>
      <div class="col-2">Temperature</div>
      <div class="col-3">Clocking Time </div>
      <div class="col-2">View History</div>
      
      </ion-row>
    <ion-row class="d-flex text-center" *ngFor="let attendance of attendResponse; index as i">
      <div class = "col-2">{{ i + 1 }}</div>
      <div class="col-3">{{ attendance.name }}</div>
      <div class="col-2">{{ attendance.temp }}</div>
        <div class="col-3">{{ attendance.created_at| date :  "dd-MMM-y hh:mm"}}</div>
          <div class="col-2"><a routerLink='/history' [queryParams]="{emp_id: attendance.emp_id}">View History</a></div>
    </ion-row>
  </ion-grid>
  </div>

  <ion-item lines="none"> </ion-item>
  <div class="container" *ngIf="issearchResponse()">
    <ion-grid class="ion-margin">
      <ion-row class="d-flex text-center">
        <div class = "col-2">No</div>
        <div class="col-3">Full Name</div>
        <div class="col-2">Temperature</div>
        <div class="col-3">Clocking Time </div>
        <div class="col-2">View History</div>
        
        </ion-row>
      <ion-row class="d-flex text-center">
        <div class = "col-2">{{ 1 }}</div>
        <div class="col-3">{{ searchResponse.name }}</div>
        <div class="col-2">{{ searchResponse.temp }}</div>
          <div class="col-3">{{ searchResponse.created_at| date :  "dd-MMM-y hh:mm"}}</div>
            <div class="col-2"><a routerLink='/history' [queryParams]="{emp_id: searchResponse.emp_id}" >View History</a></div>
      </ion-row>
    </ion-grid>
    </div>
  </div>
    <!-- paste here -->

  <ion-item lines="none">
    <!-- <ion-button color="primary" size="small" slot="end" (click)="save()" >
      Export to excel
    </ion-button> -->
  </ion-item>
</ion-content>
